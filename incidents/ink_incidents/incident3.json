{"inkVersion":21,"root":[["#","^Incident 3: iPhone Errorpocalypse 🛠️📱","/#",{"->":"start"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":[["^You've received alerts that the error rate for iPhones has increased by 10%.","\n","ev","str","^Acknowledge the alert.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m busy coding. it will recover soon","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"check_customer_impact"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->":"incident_neglect_start"},"\n","^    ","end","\n",{"#f":5}]}],{"#f":1}],"check_customer_impact":[["^<b>Is there any order loss or poor customer experience?</b>","\n","ev","str","^Yes, orders have dropped by 5%.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No need to check order loss; I’ll just stare at logs and hope for clarity.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"check_country_impact"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->":"incident_neglect_check_customer_impact"},"\n","end",{"#f":5}]}],{"#f":1}],"check_country_impact":[["^<b>Is the issue across all countries or specific?</b>","\n","ev","str","^NewRelic Dashboard shows it's a global crisis! The Iphone error is affecting all countries.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Brace yourself and proceed to create the incident.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"create_incident"},"\n",{"#f":5}],"c-1":["^ ",{"->":"create_incident"},"\n",{"#f":5}]}],{"#f":1}],"create_incident":[["^<b>Create an incident?</b>","\n","ev","str","^Yes, let's document this like a true hero.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No need, I’ll fix it before anyone notices.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^No, I'm allergic to post-mortems. Not again!","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ ",{"->":"check_recent_release"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_recent_release"},"\n",{"#f":5}],"c-2":["\n","^    ",{"->t->":"incident_neglect_create_incident"},"end","\n",{"#f":5}]}],{"#f":1}],"check_recent_release":[["^<b>Was there a release during the day?</b>","\n","ev","str","^Check <a target=\"_blank\" href=\"https://deliveryhero.enterprise.slack.com/archives/C026LKZNDJB\">tlb_production_deployments</a> . Turns out, there was no release. It's not a release bug, it's just your lucky day!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Check <a target=\"_blank\" href=\"https://argo.dhhmena.com/applications/iphoneapi-failover?resource=\">Argo</a> . Turns out, there was no release. It's not a release bug, it's just your lucky day!","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Dig deeper. Contain the incident and dive in.","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Close it. It's probably temp errors. (Spoiler: It's not.)","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["^ ",{"->":"check_endpoints"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_endpoints"},"\n",{"#f":5}],"c-2":["^ ",{"->":"check_endpoints"},"\n",{"#f":5}],"c-3":["\n","^    ",{"->t->":"incident_neglect_check_recent_release"},"end","\n",{"#f":5}]}],{"#f":1}],"check_endpoints":[["^<b>Is the high error rate across all endpoints or specific ones?</b>","\n","ev","str","^Across all endpoints. Great, the mystery deepens,<a target=\"_blank\" href=\"https://onenr.io/0yw4PkO4Vw3\">NR Query</a> ","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"check_fwf_flag"},"\n",{"#f":5}]}],{"#f":1}],"check_fwf_flag":[["^<b>Is there an FWF flag just toggled today?</b>","\n","ev","str","^Nope, not related. It's affecting all countries and all endpoints. Move along.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Investigate further. This won't solve itself.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"check_clusters"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_clusters"},"\n",{"#f":5}]}],{"#f":1}],"check_clusters":[["^<b>Is the error rate increased across all clusters?</b>","\n","ev","str","^Nope, just the main EKS cluster. <a target=\"_blank\" href=\"https://onenr.io/0Zw0qgxGERv\">NR Query</a> ","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"check_pod_impact"},"\n",{"#f":5}]}],{"#f":1}],"check_pod_impact":[["^<b>Is the error rate only for a specific pod/host?</b>","\n","^<a target=\"_blank\" href=\"https://onenr.io/0OQMMPbB9QG\">NR Query</a>","\n","ev","str","^Yes, one pod is throwing error. (Typical for windows pods ;) )","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"update_monitoring_state"},"\n",{"#f":5}]}],{"#f":1}],"update_monitoring_state":[["^<b>Update the incident to monitoring state?</b>","\n","ev","str","^Yes, let's keep everyone in the loop.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m busy. Let them guess what's happening.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"restart_pods"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->t->":"incident_neglect_update_monitoring_state"},"end","\n",{"#f":5}]}],{"#f":1}],"restart_pods":[["^<b>Restart all pods?</b>","\n","ev","str","^No, that's overkill. Let’s just deal with the troublemaker.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"kill_pod"},"\n",{"#f":5}]}],{"#f":1}],"kill_pod":[["^<b>Kill the problematic pod?</b>","\n","ev","str","^Yes. A new pod will be recreated","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"monitor_error_rate"},"\n",{"#f":5}]}],{"#f":1}],"monitor_error_rate":[["^<b>Monitor the error rate after restarting the pod?</b>","\n","ev","str","^Yes, and it’s reducing! Crisis mitigated!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m confident it’s fixed. What could possibly go wrong?","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"resolve_incident"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->t->":"incident_neglect_monitor_error_rate"},"end","\n",{"#f":5}]}],{"#f":1}],"resolve_incident":[["^<b>Update the incident to resolved state?</b>","\n","ev","str","^Yes, declare victory and bask in the glory.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I'm busy. Someone else can do it.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"post_mortem"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->t->":"incident_neglect_resolve_incident"},"end","\n",{"#f":5}]}],{"#f":1}],"post_mortem":[["^<b>Create a draft post-mortem with timelines and findings?</b>","\n","ev","str","^Yes, document everything like the hero you are.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, please not me.","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"pair_with_team"},"\n",{"#f":5}],"c-1":["\n","^    ",{"->t->":"incident_neglect_post_mortem"},"end","\n",{"#f":5}]}],{"#f":1}],"pair_with_team":[["^<b>Pair with the team to deep dive further?</b>","\n","ev","str","^Yes, let’s analyze k8s events and logs from Grafana like detectives.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"conclusion"},"\n",{"#f":5}]}],{"#f":1}],"conclusion":["^🎉 **Congratulations!** The Error has been resolved, and you've learned valuable lessons along the way. The team appreciates your efforts. Now go treat yourself to some well-deserved coffee (or tea)!","\n","end",{"#f":1}],"incident_neglect_start":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"start"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_check_customer_impact":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"check_customer_impact"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_create_incident":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"create_incident"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_check_recent_release":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"check_recent_release"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_update_monitoring_state":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"update_monitoring_state"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_monitor_error_rate":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"monitor_error_rate"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_resolve_incident":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"resolve_incident"},"\n",{"#f":5}]}],{"#f":1}],"incident_neglect_post_mortem":[["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. ","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"post_mortem"},"\n",{"#f":5}]}],{"#f":1}],"#f":1}],"listDefs":{}}