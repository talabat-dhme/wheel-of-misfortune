{"inkVersion":21,"root":[[{"->":"start"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":[["#","^Incident 3: iPhone Errorpocalypse 🛠️📱","/#",[["ev",{"^->":"start.0.3.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^You've received alerts that the error rate for iPhones has increased by 10%.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"start.0.3.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Acknowledge the alert.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m busy coding. it will recover soon","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"check_customer_impact"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"check_customer_impact":[[[["ev",{"^->":"check_customer_impact.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is there any order loss or poor customer experience?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_customer_impact.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, orders have dropped by 5%.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No need to check order loss; I’ll just stare at logs and hope for clarity.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"check_country_impact"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"check_country_impact":[[[["ev",{"^->":"check_country_impact.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is the issue across all countries or specific?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_country_impact.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^NewRelic Dashboard shows it's a global crisis! The Iphone error is affecting all countries.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Brace yourself and proceed to create the incident.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"create_incident"},"\n",{"#f":5}],"c-1":["^ ",{"->":"create_incident"},"\n",{"#f":5}]}],{"#f":1}],"create_incident":[[[["ev",{"^->":"create_incident.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Create an incident?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"create_incident.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, let's document this like a true hero.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No need, I’ll fix it before anyone notices.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^No, I'm allergic to post-mortems. Not again!","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["^ ",{"->":"check_recent_release"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_recent_release"},"\n",{"#f":5}],"c-2":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"check_recent_release":[[[["ev",{"^->":"check_recent_release.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Was there a release during the day?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_recent_release.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Check tlb_production_deployments. Turns out, there was no release. It's not a release bug, it's just your lucky day!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Dig deeper. Contain the incident and dive in.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Close it. It's probably temp errors. (Spoiler: It's not.)","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["^ ",{"->":"check_endpoints"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_endpoints"},"\n",{"#f":5}],"c-2":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"check_endpoints":[[[["ev",{"^->":"check_endpoints.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is the high error rate across all endpoints or specific ones?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_endpoints.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Across all endpoints. Great, the mystery deepens.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"check_fwf_flag"},"\n",{"#f":5}]}],{"#f":1}],"check_fwf_flag":[[[["ev",{"^->":"check_fwf_flag.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is there an FWF flag just toggled today?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_fwf_flag.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Nope, not related. It's affecting all countries and all endpoints. Move along.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Investigate further. This won't solve itself.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"check_clusters"},"\n",{"#f":5}],"c-1":["^ ",{"->":"check_clusters"},"\n",{"#f":5}]}],{"#f":1}],"check_clusters":[[[["ev",{"^->":"check_clusters.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is the error rate increased across all clusters?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_clusters.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Nope, just the main EKS cluster. ","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"check_pod_impact"},"\n",{"#f":5}]}],{"#f":1}],"check_pod_impact":[[[["ev",{"^->":"check_pod_impact.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Is the error rate only for a specific pod/host?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"check_pod_impact.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, one pod is throwing error. (Typical for windows pods ;) )","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"update_monitoring_state"},"\n",{"#f":5}]}],{"#f":1}],"update_monitoring_state":[[[["ev",{"^->":"update_monitoring_state.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Update the incident to monitoring state?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"update_monitoring_state.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, let's keep everyone in the loop.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m busy. Let them guess what's happening.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"restart_pods"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"restart_pods":[[[["ev",{"^->":"restart_pods.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Restart all pods?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"restart_pods.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^No, that's overkill. Let’s just deal with the troublemaker.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"kill_pod"},"\n",{"#f":5}]}],{"#f":1}],"kill_pod":[[[["ev",{"^->":"kill_pod.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Kill the problematic pod?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"kill_pod.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes. A new pod will be recreated","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"monitor_error_rate"},"\n",{"#f":5}]}],{"#f":1}],"monitor_error_rate":[[[["ev",{"^->":"monitor_error_rate.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Monitor the error rate after restarting the pod?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"monitor_error_rate.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, and it’s reducing! Crisis mitigated!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I’m confident it’s fixed. What could possibly go wrong?","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"resolve_incident"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"resolve_incident":[[[["ev",{"^->":"resolve_incident.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Update the incident to resolved state?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"resolve_incident.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, declare victory and bask in the glory.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, I'm busy. Someone else can do it.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"post_mortem"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"post_mortem":[[[["ev",{"^->":"post_mortem.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Create a draft post-mortem with timelines and findings?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"post_mortem.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, document everything like the hero you are.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No, please not me.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"pair_with_team"},"\n",{"#f":5}],"c-1":["^ ","\n",{"->":"incident_neglect"},{"#f":5}]}],{"#f":1}],"pair_with_team":[[[["ev",{"^->":"pair_with_team.0.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Pair with the team to deep dive further?",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"pair_with_team.0.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n",{"#f":5}]}],"ev","str","^Yes, let’s analyze k8s events and logs from Grafana like detectives.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"conclusion"},"\n",{"#f":5}]}],{"#f":1}],"conclusion":["^🎉 **Congratulations!** The Error has been resolved, and you've learned valuable lessons along the way. The team appreciates your efforts. Now go treat yourself to some well-deserved coffee (or tea)!","\n","end",{"#f":1}],"incident_neglect":["^🚨 **Oh no!** Your inaction made things worse. The team had to jump in, stakeholders are frustrated, and you’ve earned the *“Least Responsive On-Call”* award for today. Reflect and try again!","\n","end",{"#f":1}],"#f":1}],"listDefs":{}}